(window.webpackJsonp=window.webpackJsonp||[]).push([["PLd4"],{"0hMS":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TUTORIALS_MAPPED_STANDARDS_QUERY=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("q1tI")),o=n(r("lTCR")),i=n(r("Q8Wn")),s=r("8r+/"),l=n(r("KZ8W"));let c;function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}const u=(0,s.gqlOp)((0,o.default)(c||(c=(e=>e)`
        query getStandardsMappingForTutContent(
            $contentDescriptor: String!
            $standardLocale: String
        ) {
            standardMappingsForContent(
                contentDescriptor: $contentDescriptor
                locale: $standardLocale
            ) {
                id
                setId
                standardId
                description
            }
        }
    `)));t.TUTORIALS_MAPPED_STANDARDS_QUERY=u;class p extends a.Component{render(){const{gqlResult:e,children:t}=this.props;return t(e)}}const h=({data:e,error:t,loading:r})=>{if(null!=t||r||null==e||!e.standardMappingsForContent)return{gqlResult:{isError:null!=t,isLoading:r,standards:[]}};const n=[];return e.standardMappingsForContent.map((e=>{const t={};t.code=e.standardId,t.descriptionHtml=e.description,"en"===i.default.kaLocale?t.link=function(e){const{setId:t,standardId:r}=e;if("CCSS.Math"!==t)return"";const n=r.split(".");let a="";if(n.length<2)return"/commoncore/map";n.length>=4&&(n.length=4,a="#"+n.join("."));if(!n[0].startsWith("HS"))return`/commoncore/grade-${n[0]}-${n[1]}${a}`;return`/commoncore/grade-${n[0]}-${n[0][n[0].length-1]}-${n[1]}${a.replace(".","-")}`}(e):t.link="";const r={};r.prefix=e.setId,t.set=r,n.push(t)})),{gqlResult:{isError:!1,isLoading:r,standards:n}}};function m(){const e=i.default.remoteCountry,t=i.default.kaLocale;return"ZZ"===e?t:`${t}-${e}`}var f=(0,l.default)((({contentDescriptor:e})=>({query:u,variables:{contentDescriptor:e,standardLocale:m()},fastlyCaching:"PERSIST_ACROSS_PUBLISH",mapResultToProps:h})))(p);t.default=f},DCXZ:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("pVnL")),o=n(r("Pwnf")),i=r("Vxy9"),s=E(r("q1tI")),l=r("mR6N"),c=r("JimW"),d=n(r("qRKg")),u=n(r("zEAc")),p=n(r("Gwaz")),h=n(r("g+DZ")),m=n(r("zM6M")),f=n(r("6wxr")),g=n(r("iEW4")),v=r("8SBg"),b=n(r("uEGL")),y=E(r("zbaY")),w=n(r("thEZ")),k=E(r("HEOz"));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(T=function(e){return e?r:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=T(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}const S=15,P=184;class x extends s.Component{constructor(...e){super(...e),this.state={focus:!1,hover:!1},this.onFocus=()=>{this.setState({focus:!0})},this.onBlur=()=>{this.setState({focus:!1})},this.onMouseEnter=()=>{this.setState({hover:!0})},this.onMouseLeave=()=>{this.setState({hover:!1})}}render(){const e=!this.props.first,t=!this.props.last,r=!!this.props.selected,n=s.createElement(g.default,{category:this.props.category,completed:this.props.completed,focus:this.state.focus||this.state.hover,kind:this.props.kind,started:this.props.started,hasTopSubwayTrack:e,hasBottomSubwayTrack:t}),a=s.createElement("div",{className:(0,l.css)(I.info,this.props.withinMobilePage&&I.infoWithinMobile)},s.createElement("div",{className:(0,l.css)(I.title,I.titleSubwayTracks),title:this.props.title,"data-test-id":r?"selected-content-nav-title":void 0},this.props.title)),o=s.createElement(c.View,{style:d.default.srOnly},k._("This is the currently selected item.")),i=this.props.withinMobilePage?`${this.props.slug}-${this.props.contentKind}-mobile-tab`:`${this.props.slug}-${this.props.contentKind}-tab`;return s.createElement("li",{role:"presentation",ref:this.props.refCapturer,className:(0,l.css)(I.containerSubwayTracks)},s.createElement("div",{role:"presentation",className:(0,l.css)(I.item,this.props.withinMobilePage&&I.itemWithinMobilePage),"data-tutorial-nav-selected":r},r&&s.createElement(c.View,{style:I.selectedItemLeftBorder}),s.createElement(h.default,{id:i,"aria-current":r,style:[I.link,this.props.withinMobilePage&&I.linkWithinMobilePage,I.linkSubwayTracks,r&&I.selectedLink],to:this.props.nodeUrl,onFocus:this.onFocus,onMouseEnter:this.onMouseEnter,onBlur:this.onBlur,onMouseLeave:this.onMouseLeave},n,a,r&&o)))}}x.defaultProps={withinMobilePage:!1};class N extends s.Component{render(){const{withinMobilePage:e}=this.props;return s.createElement("div",{className:(0,l.css)(I.item,I.upNextItem,e&&I.itemWithinMobilePage)},s.createElement(h.default,{style:[I.link],to:this.props.href},s.createElement("div",{className:(0,l.css)(I.upNext)},s.createElement("div",{className:(0,l.css)(I.title,I.upNextTitle)},k._("Next lesson")),s.createElement("div",{className:(0,l.css)(I.title,I.singleLineTitle)},this.props.title))))}}N.defaultProps={withinMobilePage:!1};class _ extends s.Component{constructor(...e){super(...e),this._isItemCompleted=e=>{const{statusMap:t}=this.props;if(!t)return!1;const r=e.id;return"complete"===t[String(r)]},this._isItemStarted=e=>{const{statusMap:t}=this.props;if(!t)return!1;const r=e.id;return"started"===t[String(r)]},this.scrollToSelectedNavItem=()=>{const e=null==this.selectedRef||null==this.containerRef;this.props.withinMobilePage||e||setTimeout((()=>{this._mounted&&null!=this.selectedRef&&null!=this.containerRef&&(0,v.jumpToElementWithinContainer)(this.selectedRef,this.containerRef)}),0)},this.captureSelectedRef=e=>{this.selectedRef=e},this.renderNavHeader=()=>{const{tutorial:e}=this.props,t=s.createElement("span",null,s.createElement("span",{className:(0,l.css)(I.breadcrumbsRightArrowContainer)},s.createElement(f.default,{className:(0,l.css)(I.breadcrumbsRightArrow),color:o.default.offBlack,icon:u.default,size:8}))," ");return s.createElement("div",{className:(0,l.css)(I.navHeader,this.props.withinMobilePage&&I.navHeaderWithinMobilePage)},this.props.showBreadcrumbs&&s.createElement("div",{className:(0,l.css)(I.navHeaderBreadcrumbs)},s.createElement(p.default,{containerStyle:I.breadcrumbsContainer,isNavigation:!0,path:this.props.breadcrumbs,separator:t,separatorStyle:I.breadcrumbsRightArrowSeparatorStyle,theme:"dark"})),s.createElement(i.LabelLarge,{tag:"h2",style:I.navHeaderTopicTitle},e.translatedTitle))},this.getItemTitle=(e,t)=>"Exercise"===e.kind?k._("Practice: %(title)s",{title:e.translatedTitle}):e.translatedTitle,this.renderItems=(e,t,r,n)=>{const a=e.map(((r,n)=>{const a=`${t.relativeUrl}/${r.nodeSlug}`,o=r.nodeSlug===this.props.currentNodeSlug;return s.createElement(x,{key:n,category:r.category,kind:r.contentKind,selected:o,domain:this.props.domain,title:this.getItemTitle(r,n),nodeSlug:r.nodeSlug,slug:r.slug,contentKind:r.contentKind,nodeUrl:a,completed:this._isItemCompleted(r),started:this._isItemStarted(r),first:0===n,last:n===e.length-1,withinMobilePage:this.props.withinMobilePage,refCapturer:o?this.captureSelectedRef:void 0})})),o=r||n>0,i=n>0;return s.createElement("li",{key:n},o&&s.createElement("div",{className:(0,l.css)(I.sectionTop)},i&&s.createElement("hr",{className:(0,l.css)(I.divider)}),r&&s.createElement("div",{className:(0,l.css)(I.sponsorNote)},k._("Brought to you by our partner"))),s.createElement("ul",{role:"presentation"},a))},this.renderNavContents=e=>{const{navItems:t,tutorial:r}=this.props,n=(0,m.default)(t).map(((e,t)=>{const[n,a]=e;return this.renderItems(a,r,n,t)})),a=this.props.nextTutorial;var o;a&&n.push(s.createElement("li",{key:n.length},s.createElement(N,{key:"next-tutorial",domain:this.props.domain,title:a.tutorial.translatedTitle,href:null==(o=a.firstChild)?void 0:o.topicPath,withinMobilePage:this.props.withinMobilePage})));return s.createElement("div",{"aria-label":k._("lesson table of contents"),role:"navigation",className:(0,l.css)(this.props.style)},s.createElement("div",{className:(0,l.css)(I.row)},!e&&this.renderNavHeader(),s.createElement("ul",null,n)))}}componentDidMount(){this._mounted=!0,this.scrollToSelectedNavItem()}componentWillUnmount(){this._mounted=!1}render(){if(this.props.withinMobilePage||this.props.inFixture)return this.renderNavContents();const e=this.renderNavHeader(),t=this.renderNavContents(!0);return s.createElement(w.default,{header:e,minHeight:400,scrollOffset:this.props.scrollOffset,style:this.props.style},s.createElement("div",{className:(0,l.css)(I.scrollable),ref:e=>this.containerRef=e},t))}}_.defaultProps={breadcrumbs:[],withinMobilePage:!1,scrollOffset:0};const M=`1px solid ${y.colors.gray85}`,C={backgroundColor:o.default.offBlack8,textDecoration:"none",outline:"none"},I=l.StyleSheet.create({row:{whiteSpace:"nowrap",width:"100%",WebkitOverflowScrolling:"touch"},scrollable:{overflowY:"scroll"},containerSubwayTracks:{display:"block",overflow:"hidden",position:"relative"},item:{background:y.colors.white,boxSizing:"border-box",display:"block",verticalAlign:"top",width:"100%"},itemWithinMobilePage:{width:"100%"},upNextItem:{borderBottom:0,borderTop:M},upNext:{overflow:"hidden"},upNextTitle:{paddingTop:8,marginBottom:4},selectedItemLeftBorder:{position:"absolute",top:0,left:0,borderRight:`4px solid ${o.default.blue}`,height:"100%",borderTopRightRadius:2,borderBottomRightRadius:2},sectionTop:{background:y.colors.white,padding:20,paddingBottom:15},divider:{borderTop:M,boxShadow:"none",margin:0,height:0},sponsorNote:(0,a.default)({},y.typography.labelSmall,{color:y.colors.gray41,marginTop:15}),link:{display:"flex",flexDirection:"row",padding:"16px 20px",position:"relative",whiteSpace:"normal",":hover":C,":focus":C},linkWithinMobilePage:{alignItems:"center"},linkSubwayTracks:{alignItems:"center"},selectedLink:{color:o.default.blue},info:{marginLeft:S,overflow:"hidden",width:P,verticalAlign:"top"},infoWithinMobile:{width:"auto"},title:(0,a.default)({},y.typography.labelMedium,{fontWeight:"normal",paddingTop:0,marginBottom:0,marginTop:0}),titleSubwayTracks:{fontFamily:y.fonts.regular},singleLineTitle:{fontSize:17,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%"},navHeader:{backgroundColor:y.colors.white,borderBottom:M,color:y.colors.gray17,fontFamily:"inherit",fontSize:17,fontWeight:"bold",lineHeight:"23px",padding:20,paddingTop:24,whiteSpace:"normal",width:255},navHeaderWithinMobilePage:{width:"100%"},navHeaderBreadcrumbs:{paddingBottom:4,[y.queries.small]:{display:"none"},[y.queries.medium]:{display:"none"}},navHeaderTopicTitle:{[b.default.lgOrLarger]:{display:"none"}},breadcrumbsRightArrow:{left:0,position:"relative",top:4,transform:"scaleX(-1) translate(0, -50%)"},breadcrumbsRightArrowContainer:{left:0,position:"absolute",top:0},breadcrumbsRightArrowSeparatorStyle:{display:"inline",margin:"0 5px",padding:"0 3px",position:"relative"},breadcrumbsContainer:{display:"inline",position:"relative"}});var D=_;t.default=D},iEW4:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("q1tI")),o=r("mR6N"),i=n(r("Pwnf")),s=n(r("zDya"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}class c extends a.Component{render(){const{category:e,completed:t,kind:r,started:n,iconSize:l}=this.props,c=l/2-d.trackWidth/2,p={background:t?i.default.blue:i.default.offBlack16,left:c};return a.createElement("div",{className:(0,o.css)(u.container)},this.props.hasTopSubwayTrack&&a.createElement("div",{className:(0,o.css)(u.track,u.topTrack),style:p}),a.createElement(s.default,{category:e,completed:t,kind:r,size:l,started:n}),this.props.hasBottomSubwayTrack&&a.createElement("div",{className:(0,o.css)(u.track),style:p}))}}t.default=c,c.defaultProps={hasBottomSubwayTrack:!1,hasTopSubwayTrack:!1,iconSize:24};const d={trackWidth:2,trackLength:100},u=o.StyleSheet.create({container:{float:"left",position:"relative"},track:{position:"absolute",height:d.trackLength,width:d.trackWidth,zIndex:1e3},topTrack:{top:-d.trackLength}})},xZMi:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("pVnL")),o=J(r("q1tI")),i=J(r("4PhQ")),s=n(r("lTCR")),l=r("55Ip"),c=r("mR6N"),d=r("Pk2J"),u=r("8r+/"),p=n(r("HAtO")),h=n(r("mXPZ")),m=n(r("FTEW")),f=n(r("8SYi")),g=n(r("8uWu")),v=n(r("nSHN")),b=n(r("jce4")),y=n(r("PuT4")),w=n(r("1AnN")),k=n(r("8sHD")),T=n(r("izwl")),E=n(r("cp/1")),S=J(r("6OHE")),P=n(r("uEGL")),x=n(r("nVHT")),N=n(r("CtWX")),_=J(r("g04p")),M=n(r("DCXZ")),C=J(r("zbaY")),I=n(r("G/pM")),D=n(r("Jayu")),O=r("B4xi"),R=r("lYHA"),W=r("FxTa"),A=r("bHum"),U=r("cojK"),L=n(r("SfjP")),H=n(r("cfQQ")),j=n(r("pF/S")),B=r("Y8R6"),K=J(r("HEOz")),$=r("Dpzn"),q=n(r("0hMS")),F=n(r("O+Xk"));let z,G,Y=e=>e;function Z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(Z=function(e){return e?r:t})(e)}function J(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=Z(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}const V=(0,u.gqlOp)((0,s.default)(z||(z=Y`
        query getDynamicInfoForTutorial(
            $tutorialId: String!
            $encryptedKey: String
        ) {
            user {
                id
                canEdit: hasPermission(
                    name: "can_edit"
                    scope: ANY_ON_CURRENT_LOCALE
                )
                canCurate: hasPermission(
                    name: "can_curate_tags"
                    scope: ANY_ON_CURRENT_LOCALE
                )
                contentItemProgresses(queryBy: {parentTopicId: $tutorialId}) {
                    content {
                        id
                        progressKey
                    }
                    completionStatus
                }
                hasAdminRole: hasPermission(
                    name: "can_do_what_only_admins_can_do"
                )
                isPhantom
                isChild
            }
            qaExpandKeyInfo(encryptedQaExpandKey: $encryptedKey) {
                feedbackType
                unencryptedKey
            }
        }
    `))),Q=(e,t)=>{if(!e||!e.startsWith("?"))return null;const r="&"+e.slice(1),n=new RegExp(`&${t}=([^&#]+)`).exec(r);return n&&decodeURIComponent(n[1])},X=(0,u.gqlOp)((0,s.default)(G||(G=Y`
    mutation muteSpecifiedFeedback($expandKey: String!) {
        modifyNotifyOnAnswer(feedbackKey: $expandKey, notifyOnAnswer: false) {
            feedback {
                notifyOnAnswer
            }
        }
    }
`)));class ee extends o.Component{constructor(...e){super(...e),this.state={statusMapUpdates:null},this.progressKeyMap={},this._isMounted=!1,this.onNavigateToParentTopic=()=>{const{contentData:e}=this.props;if(!e)return;const{breadcrumbs:t}=e,r=t[t.length-1];(0,B.redirect)(r.href)},this.hasNextTask=()=>{var e,t;const{contentData:r}=this.props;return!!r&&!!(this._getNextNavItem()||null!=(e=r.nextTutorial)&&null!=(t=e.firstChild)&&t.topicPath)},this.onNextTask=()=>{const{contentData:e}=this.props;if(!e)return;const t=this._getNextNavItem();if(t){const r=`${e.tutorialPageData.topicModel.relativeUrl}/${t.nodeSlug}`;this.props.history.push(r)}else{var r,n;(0,B.redirect)(null==(r=e.nextTutorial)||null==(n=r.firstChild)?void 0:n.topicPath)}},this.setProgress=e=>{if(!this._isMounted)return;const t=(0,a.default)({},this.state.statusMapUpdates);(e||[]).map((e=>{t[e.contentId]=e.progress,this.setState({statusMapUpdates:t});const r=this.progressKeyMap[e.contentId];r&&D.default.dispatch({type:O.UPDATE_STATUS,progressKey:r,status:e.progress})}))},this.renderWithUserData=(e,t)=>{var r,n,i;const{contentData:s}=this.props;if(!s)return null;const{attribution:d,breadcrumbs:u,classUpsell:p,domain:h,curationByNodeSlug:m,nextTutorial:f,showTutorialNav:g,tutorialPageData:v,videoAttribution:S,sponsorInformation:P,nodeSlug:N,preloadedTranscript:_,task:C}=s,{topicModel:I,navItems:D,contentModel:O}=v;let R=!1;const W={},A=!e.loading&&(null==(r=e.data)?void 0:r.user),U=!e.loading&&(null==(n=e.data)?void 0:n.qaExpandKeyInfo);if(!e.loading&&null!=(i=e.data)&&i.user){R=e.data.user.canEdit||e.data.user.canCurate;(e.data.user.contentItemProgresses||[]).forEach((({content:e,completionStatus:t})=>{e.id&&(W[e.id]=t.toLowerCase(),this.progressKeyMap[e.id]=e.progressKey)}))}Object.assign(W,this.state.statusMapUpdates);const L=O.contentKind,H=this._getNextNavItem(),j=`${I.relativeUrl}/${N}`,B={restrictPosting:!(!A||!A.isChild)};U&&(U.unencryptedKey&&(B.qaExpandKey=U.unencryptedKey),U.feedbackType&&(B.expandFeedbackType=U.feedbackType));let K=null,$=null;g&&(K=o.createElement(M.default,{tutorial:I,navItems:D,statusMap:W,currentNodeSlug:N,domain:h,nextTutorial:f,style:te.tutorialNav,breadcrumbs:u,showBreadcrumbs:this.shouldShowBreadcrumbs(),scrollOffset:this._getScrollOffset()}),$=o.createElement("div",{className:(0,c.css)(te.mobileTutorialNav,"Exercise"===L&&te.mobileTutorialNavExerciseFooterAffordance)},o.createElement("div",{className:(0,c.css)(te.mobileTutorialNavContents)},o.createElement(M.default,{tutorial:I,navItems:D,statusMap:W,currentNodeSlug:N,domain:h,nextTutorial:f,withinMobilePage:!0,showBreadcrumbs:this.shouldShowBreadcrumbs()}))));let F=()=>{};if(H){const e=H;F=()=>{const t=I.relativeUrl+"/"+e.nodeSlug;this.props.history.push(t)}}const z=!(1===t.length),G=()=>{const{match:{params:{kind:e,slug:t}}}=this.props;return!(!e||!t)&&`${e}/${t}`===N},Y=O.kind+":"+O.id,Z=o.createElement("div",{key:"tutorial-page","data-test-id":"tutorial-page"},o.createElement(q.default,{contentDescriptor:Y},(({standards:t,isError:r,isLoading:n})=>{const i=(0,a.default)({},O);return r||n||(i.standards=t),o.createElement(o.Fragment,null,o.createElement(l.Route,{path:"*/v/:slug",render:()=>o.createElement(w.default,{canRenderContent:G(),video:i,task:C,nextContentItem:H,navigateToNextItem:F,classUpsell:p,breadcrumbs:u,discussionContext:B,domain:h,topic:I,mobileTutorialNav:$,preloadedTranscript:_&&_.videoId===i.id?_:null,showEditorShortcuts:R,attribution:S,shouldAutoplay:z,isLoadingUserData:e.loading})}),o.createElement(l.Route,{path:"*/a/:slug",render:()=>o.createElement(k.default,{canRenderContent:G(),article:i,breadcrumbs:u,classUpsell:p,currentUrl:j,discussionContext:B,domain:h,showEditorShortcuts:R,topic:I,mobileTutorialNav:$,sponsorInformation:P,isLoadingUserData:e.loading})}),o.createElement(l.Route,{path:"*/e/:slug",render:()=>o.createElement(T.default,{canRenderContent:G(),key:i.name,exercise:i,breadcrumbs:u,domain:h,showEditorShortcuts:R,tutorial:I,inFixture:this.props.inFixture,mobileTutorialNav:$,showTutorialNav:g,onNextTask:this.hasNextTask()?this.onNextTask:void 0,onNavigateToParentTopic:this.onNavigateToParentTopic,nextTaskKind:this.nextTaskKind()})}),o.createElement(l.Route,{path:"*/(p[a-z]?)/:slug",render:()=>o.createElement(E.default,{canRenderContent:G(),key:i.name,scratchpad:i,domain:h,topic:I,nextSlug:H?H.nodeSlug:void 0})}))}))),J=m[N];return o.createElement("div",null,o.createElement("div",null,this.renderAssignmentHeader()),o.createElement("div",{className:(0,c.css)(te.customHeaderContainer)},this._maybeGetCustomHeader()),o.createElement("div",{className:(0,c.css)(te.wrapper,"Exercise"===L&&te.exerciseFooterAffordance)},K,o.createElement("div",{id:O.nodeSlug+"-panel","aria-labelledby":O.slug+"-"+O.contentKind+"-tab",className:(0,c.css)(te.page,g&&te.pageWithTutorialNav)},Z||o.createElement(x.default,null),J&&o.createElement("div",{className:(0,c.css)(te.moduleList)},g&&o.createElement(b.default,{domain:h,modules:J.modules})))),d&&o.createElement(y.default,d))}}componentDidMount(){this._isMounted=!0,v.default.register("tutorial_node_progress",this.setProgress);const{contentData:e,search:t,gqlClient:n}=this.props;if(null!=e&&e.tutorialPageData){if("1"===Q(t,"mute")){const e=Q(t,"qa_expand_key");e&&n.mutate(X,{variables:{expandKey:e}}).then((e=>{}))}e.mayNeedExtraWidgetsLater&&setTimeout((()=>{Promise.all([r.e("corelibs"),r.e("shared"),r.e("3Fde"),r.e("ACiX"),r.e("1D4J"),r.e("36AW"),r.e("326h"),r.e("3TWR"),r.e("6JGv"),r.e("6ACV"),r.e("4mx8")]).then(r.t.bind(null,"0UwG",7)).then((e=>e.init({skipMathJax:!0})))}),1e3),window._kiq=window._kiq||[],window._kiq.push(["set",{bibliotron_new_design:"true",window_width:window.innerWidth,window_height:window.innerHeight}]),this.handlePageRender()}}componentDidUpdate({contentData:e}){const{contentData:t}=this.props,r=e?e.nodeSlug:"";t&&r!==t.nodeSlug&&this.handlePageRender()}componentWillUnmount(){this._isMounted=!1}markConversion(e){const{contentData:t,markConversion:r}=this.props;if(!t||!t.tutorialPageData)return;const{contentModel:n}=t.tutorialPageData;r({id:e,extra:{product:"library",content_id:n.id,slug:n.slug}})}handlePageRender(){const{contentData:e}=this.props;if(!e||e.isNotFound)return;this.markPageviewConversion();const t=e.nodeSlug.startsWith("e/"),r=document.querySelector("#up-next-module");if(r){const e=t?"none":"block";r.style.display=e}}_maybeGetCustomHeader(){const{contentData:e}=this.props;if(!e||e.isNotFound)return null;const{customHeaderId:t,subject:r}=e;return"gtp-custom-header"===t?o.createElement(_.default,{showUpsellTooltip:!0,examId:r,leftAlign:!0}):null}_getScrollOffset(){const{contentData:e}=this.props;return"gtp-custom-header"===(null==e?void 0:e.customHeaderId)?_.HEADER_HEIGHT:0}_getNextNavItem(){const{contentData:e}=this.props;if(!e)return;const{tutorialPageData:t}=e,{navItems:r}=t,n=this._getCurrentTaskIndex();return n===r.length?null:r[n+1]}getTitle(){const{contentData:e}=this.props;if(!e||e.isNotFound)return"";const{tutorialPageData:t}=e,{contentModel:r}=t,n=(0,$.getTranslatedContentTitle)(e);if(n)return n;const{breadcrumbs:a}=e;return[r.translatedTitle].concat(a.slice().reverse().map((e=>e.title))).join(" | ")}_getCurrentTaskIndex(){const{contentData:e}=this.props;if(!e)return-1;const{tutorialPageData:t}=e,{contentModel:r,navItems:n}=t;return n.findIndex((e=>e.id===r.id&&e.kind===r.kind))}nextTaskKind(){var e,t;const{contentData:r}=this.props,n=this._getNextNavItem();return n?n.kind:null==r||null==(e=r.nextTutorial)||null==(t=e.firstChild)?void 0:t.kind}markPageviewConversion(){const{contentData:e}=this.props;if(!e||e.isNotFound)return;const{tutorialPageData:t}=e,{contentModel:r}=t;switch(r.contentKind){case"Article":this.markConversion("pageview_article");break;case"Video":this.markConversion("pageview_video");break;case"Exercise":r.isSkillCheck&&this.markConversion("pageview_skill_check"),this.markConversion("pageview_exercise");break;case"Talkthrough":this.markConversion("pageview_coding_talkthrough");break;case"Challenge":this.markConversion("pageview_coding_challenge");break;case"Project":this.markConversion("pageview_coding_project");break;case"Interactive":this.markConversion("pageview_coding_interactive");break;default:i.default.error("User viewed an unexpected contentKind",i.Errors.Internal,{sentryData:{contexts:{extras:{contentKind:r.contentKind}},tags:{LTv2:"true"}}})}}renderAssignmentHeader(){const{contentData:e,profile:t}=this.props;if(!e||null==t||!t.get("hasClasses"))return null;const{tutorialPageData:r}=e,{contentModel:n}=r,a=n.id||"",i=`::::${n.kind}:${a}`;return"Scratchpad"!==n.kind||n.defaultUrlPath?o.createElement(g.default,{contentDescriptor:i,contentTitle:n.title}):null}shouldShowBreadcrumbs(){const{contentData:e}=this.props;return"lsat"!==(null==e?void 0:e.subject)}getPageSettings(){const{contentData:e}=this.props;if(!e)return{headerBackgroundColor:"darkBlue"};const{breadcrumbs:t=[],canonicalUrl:r="",description:n="",imageUrl:a="",iosSmartBanner:o=!1,noIndex:i=!1,videoUrl:s="",videoEmbedUrl:l=""}=e,c=t.map((e=>({href:e.href,title:e.title}))),d={title:this.getTitle(),noIndex:i,breadcrumbsForGoogle:c,description:n,canonicalUrl:r,iOSSmartBanner:o,headerBackgroundColor:"darkBlue"};return a&&(d.imageUrl=a),(s||l)&&(d.videoUrl=s,d.videoEmbedUrl=l),d}render(){const e=this.getPageSettings(),{contentData:t,contentDataError:r,search:n}=this.props;if(!t)return null!=r?(i.default.error(r,i.Errors.TransientKhanService),o.createElement(f.default,null)):o.createElement(I.default,{settings:e},o.createElement(N.default,null));const{tutorialPageData:a}=t;if(!a||t.isNotFound)return o.createElement(m.default,null);const s=a.topicModel.contentId;return o.createElement(I.default,{settings:e},o.createElement(p.default,{query:V,variables:{tutorialId:s,encryptedKey:Q(n,"qa_expand_key")},fetchPolicy:"cache-and-network",skip:!h.default.hasProfile},(e=>o.createElement(R.HistoryContext.Consumer,null,(({history:t})=>this.renderWithUserData(e,t))))))}}const te=c.StyleSheet.create({wrapper:{display:"flex",minHeight:800,width:"100%"},page:{background:C.colors.white,overflow:"hidden",width:"100%",[C.queries.small]:{width:"100%"},[C.queries.medium]:{width:"100%"}},pageWithTutorialNav:{width:"calc(100% - 256px)"},tutorialNav:{flexShrink:0,borderRight:`1px solid ${C.colors.gray85}`,width:255,[C.queries.small]:{display:"none"},[C.queries.medium]:{display:"none"}},mobileTutorialNavContents:{maxWidth:512,margin:"0 auto"},moduleList:{borderTop:`1px solid ${C.colors.gray85}`},mobileTutorialNav:{borderBottom:`8px solid ${C.colors.gray90}`,borderTop:`8px solid ${C.colors.gray90}`,display:"none",[C.queries.small]:{display:"block"},[C.queries.medium]:{display:"block"}},mobileTutorialNavExerciseFooterAffordance:{borderBottomWidth:0},exerciseFooterAffordance:{[P.default.lgOrSmaller]:{paddingBottom:S.chromeSizes.exercisePhoneFooterHeight}},customHeaderContainer:{top:-1,position:"sticky",zIndex:S.constants.zindexFixedNavbar}});var re=(0,d.compose)((0,j.default)(),H.default,L.default,(0,A.withConversionContext)((e=>{const{contentData:t}=e;if(!t)return{product:A.enums.Product.OTHER_PRODUCT};const{ancestorTopics:r,subject:n,domain:o,domainId:i,courseId:s,unitId:l,lessonId:c,contentId:d,contentKind:u,tutorialPageData:p}=t,h="Scratchpad"===u?A.enums.ContentKind.Interactive:u,m=p?p.contentModel.translatedTitle:K._("Page not found");let f=null;if("test-prep"===o){const e=r&&r.find((e=>"Topic"===e.renderType)),t=e?e.slug:null;f=(0,W.createTestPrepStruct)(n,t)}return(0,a.default)({product:A.enums.Product.OTHER_PRODUCT,activity:(0,W.mapContentKindToActivity)(h),content:(0,a.default)({kind:h,contentId:d},i?{domainId:i}:null,{courseId:s},l?{unitId:l}:null,{lessonId:c,contentTitle:m})},f?{testPrep:f}:null)})),U.withMarkConversion,F.default)(ee);t.default=re},zM6M:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e=>((e,t)=>{const r=[];let n=null;return e.forEach((e=>{const a=t(e);n?n[0]===a?n[1].push(e):(r.push(n),n=[a,[e]]):n=[a,[e]]})),n&&r.push(n),r})(e,(e=>!!e.sponsored));t.default=n}}]);
//# sourceMappingURL=../../sourcemaps/en/PLd4.656060299c2ef4863b91.js.map